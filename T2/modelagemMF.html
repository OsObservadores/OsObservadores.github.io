<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Etapa 2 - Modelagem Funcional do Sistema</title>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background-color: #f4f4f4;
      color: #333;
      padding: 20px;
    }

    h1, h2, h3 {
      color: #005691;
    }

    .mermaid {
      background-color: #fff;
      padding: 20px;
      border: 1px solid #ccc;
      margin-top: 20px;
      border-radius: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background-color: #fff;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
    }

    th {
      background-color: #005691;
      color: #fff;
      text-align: left;
    }
  </style>
</head>
<body>
  <h1>Etapa 2: Modelagem Funcional do Sistema</h1>

  <h2>Descrição Geral</h2>
  <p>
    Este documento apresenta a modelagem funcional do sistema de monitoramento por visão computacional,
    desenvolvido com o objetivo de identificar quando um idoso com Alzheimer se levanta da cama e notificar
    um cuidador de forma automática. A modelagem contempla a decomposição funcional do sistema em blocos
    e seus fluxos de dados, com uso de diagrama de blocos (Mermaid), bem como a descrição individual de
    cada componente funcional.
  </p>

  <h2>Diagrama de Blocos - Modelagem Funcional</h2>
  <div class="mermaid">
    flowchart TD

    A[Captura de Imagem<br>Câmera] --> B[Transmissão de Imagem<br>Streaming em Tempo Real]
    B --> C[Processamento de Imagem<br>Visão Computacional]
    C --> D[Detecção de Pessoa<br>Localização no Móvel]
    D --> E[Análise de Postura<br>Sentado, Deitado, Em Pé]
    E --> F{Pessoa se Levantou?}
    F -- Sim --> G[Geração de Evento<br>Evento de Levantamento]
    G --> H[Envio de Notificação<br>App, SMS, Painel]
    F -- Não --> I[Fim do Ciclo<br>Aguardando Novo Quadro]
    H --> J[Registro de Evento<br>Banco de Dados / Logs]

    subgraph Personalização e Configuração
      K[Configuração de Perfil<br>Horários, Sensibilidade]
      K --> C
    end

    subgraph Interface do Cuidador
      H --> L[Aplicativo ou Painel<br>Recebimento da Notificação]
    end
  </div>

  <h2>Descrição dos Blocos Funcionais</h2>
  <table>
    <thead>
      <tr>
        <th>Bloco</th>
        <th>Entrada</th>
        <th>Saída</th>
        <th>Processamento</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Captura de Imagem</td>
        <td>Ambiente monitorado</td>
        <td>Quadros de vídeo</td>
        <td>Captura contínua de imagens via câmera instalada.</td>
      </tr>
      <tr>
        <td>Transmissão de Imagem</td>
        <td>Quadros de vídeo</td>
        <td>Imagens em tempo real</td>
        <td>Envia os quadros para o módulo de processamento.</td>
      </tr>
      <tr>
        <td>Processamento de Imagem</td>
        <td>Imagem ao vivo</td>
        <td>Mapeamento corporal</td>
        <td>Identifica a silhueta e a posição da pessoa.</td>
      </tr>
      <tr>
        <td>Detecção de Pessoa</td>
        <td>Dados da imagem processada</td>
        <td>Localização em relação à cama</td>
        <td>Determina se a pessoa está sobre o móvel (cama).</td>
      </tr>
      <tr>
        <td>Análise de Postura</td>
        <td>Mapa corporal</td>
        <td>Estado postural</td>
        <td>Identifica se a pessoa está deitada, sentada ou em pé.</td>
      </tr>
      <tr>
        <td>Verificação de Levantamento</td>
        <td>Estados anteriores e atuais</td>
        <td>Sim / Não</td>
        <td>Compara o estado anterior e atual para detectar mudança.</td>
      </tr>
      <tr>
        <td>Geração de Evento</td>
        <td>Confirmação de levantamento</td>
        <td>Evento de alerta</td>
        <td>Cria um evento interno a ser comunicado ao cuidador.</td>
      </tr>
      <tr>
        <td>Envio de Notificação</td>
        <td>Evento gerado</td>
        <td>Notificação</td>
        <td>Dispara uma notificação via app, SMS ou painel local.</td>
      </tr>
      <tr>
        <td>Registro de Evento</td>
        <td>Evento e horário</td>
        <td>Log no sistema</td>
        <td>Registra a ocorrência no banco de dados.</td>
      </tr>
      <tr>
        <td>Configuração de Perfil</td>
        <td>Preferências do usuário</td>
        <td>Parâmetros de operação</td>
        <td>Define regras de sensibilidade, prioridade e horários.</td>
      </tr>
      <tr>
        <td>Aplicativo ou Painel</td>
        <td>Notificação recebida</td>
        <td>Exibição visual</td>
        <td>Mostra o alerta de forma compreensível para o cuidador.</td>
      </tr>
    </tbody>
  </table>

  <h2>Conclusão</h2>
  <p>
    A modelagem funcional apresentada permite compreender claramente os fluxos de dados e as responsabilidades
    de cada módulo do sistema. Essa estrutura guiará o desenvolvimento dos algoritmos de visão computacional,
    a integração com o sistema de notificação e a interface com o usuário, garantindo um produto final alinhado
    com as necessidades reais do público-alvo.
  </p>
</body>
</html>

